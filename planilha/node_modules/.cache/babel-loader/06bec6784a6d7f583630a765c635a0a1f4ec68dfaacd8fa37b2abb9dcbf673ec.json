{"ast":null,"code":"// src/components/Motoristas.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./Motoristas.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Motoristas=()=>{const[drivers,setDrivers]=useState([]);const[searchTerm,setSearchTerm]=useState('');const navigate=useNavigate();useEffect(()=>{fetch('http://localhost:5000/drivers').then(response=>response.json()).then(data=>setDrivers(data));},[]);const handleEditDriver=index=>{navigate('/',{state:{driver:drivers[index],index}});};const handleDeleteDriver=index=>{fetch(\"http://localhost:5000/drivers/\".concat(drivers[index].id),{method:'DELETE'}).then(()=>{setDrivers(prevDrivers=>prevDrivers.filter((_,i)=>i!==index));});};const handleSearch=e=>{setSearchTerm(e.target.value.toLowerCase());};const filteredDrivers=drivers.filter(driver=>driver.driver.toLowerCase().includes(searchTerm)||driver.phone.toLowerCase().includes(searchTerm)||driver.owner.toLowerCase().includes(searchTerm));return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),children:\"Voltar\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Lista de Motoristas\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Pesquisar\",value:searchTerm,onChange:handleSearch}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Motorista\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Telefone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Frotista\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredDrivers.map((driver,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:driver.driver}),/*#__PURE__*/_jsx(\"td\",{children:driver.phone}),/*#__PURE__*/_jsx(\"td\",{children:driver.owner}),/*#__PURE__*/_jsxs(\"td\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditDriver(index),children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteDriver(index),children:\"Apagar\"})]})]},index))})]})]});};export default Motoristas;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Motoristas","drivers","setDrivers","searchTerm","setSearchTerm","navigate","fetch","then","response","json","data","handleEditDriver","index","state","driver","handleDeleteDriver","concat","id","method","prevDrivers","filter","_","i","handleSearch","e","target","value","toLowerCase","filteredDrivers","includes","phone","owner","children","onClick","type","placeholder","onChange","map","className"],"sources":["C:/Users/Dinei/Planilha/planilha/src/components/Motoristas.js"],"sourcesContent":["// src/components/Motoristas.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Motoristas.css';\r\n\r\nconst Motoristas = () => {\r\n  const [drivers, setDrivers] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/drivers')\r\n      .then(response => response.json())\r\n      .then(data => setDrivers(data));\r\n  }, []);\r\n\r\n  const handleEditDriver = (index) => {\r\n    navigate('/', { state: { driver: drivers[index], index } });\r\n  };\r\n\r\n  const handleDeleteDriver = (index) => {\r\n    fetch(`http://localhost:5000/drivers/${drivers[index].id}`, {\r\n      method: 'DELETE'\r\n    }).then(() => {\r\n      setDrivers(prevDrivers => prevDrivers.filter((_, i) => i !== index));\r\n    });\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const filteredDrivers = drivers.filter(driver =>\r\n    driver.driver.toLowerCase().includes(searchTerm) ||\r\n    driver.phone.toLowerCase().includes(searchTerm) ||\r\n    driver.owner.toLowerCase().includes(searchTerm)\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => navigate('/')}>Voltar</button>\r\n      <h1>Lista de Motoristas</h1>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Pesquisar\"\r\n        value={searchTerm}\r\n        onChange={handleSearch}\r\n      />\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Motorista</th>\r\n            <th>Telefone</th>\r\n            <th>Frotista</th>\r\n            <th>Ações</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredDrivers.map((driver, index) => (\r\n            <tr key={index}>\r\n              <td>{driver.driver}</td>\r\n              <td>{driver.phone}</td>\r\n              <td>{driver.owner}</td>\r\n              <td className=\"actions\">\r\n                <button onClick={() => handleEditDriver(index)}>Editar</button>\r\n                <button onClick={() => handleDeleteDriver(index)}>Apagar</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Motoristas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}